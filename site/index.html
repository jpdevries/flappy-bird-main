<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Flappy Bird Game</title>
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0, minimal-ui" />
	<style type="text/css">
		html, body {
			margin: 0;
			padding: 0;
			height: 100vh;
		}

		#main-canvas {
			width: 100%;
			height: 100%;
			background:#82E38C url("img/background.svg") repeat-x left top;
			background-size: contain;
		}

		#offcanvas {
			position:fixed;
			top:0;
			left:0;
			background:#649fd9;
		}
	</style>
</head>
<body>
	<canvas id="main-canvas"></canvas>

	<div style="display:none;">
		<!-- -->
		<img id="bird1" alt="" src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="5 9 89 64"><style>.st0{fill:#533846}.st1{fill:#e48115}.st2{fill:#ea5040}.st3{fill:#dde2b1}.st4{fill:#cdc7c7}.st5{fill:#ebfcdd}.st6{fill:#d9c642}</style><path class="st0" d="M14.6 40.9h74.2v20.8H14.6V40.9z"/><path class="st0" d="M14.6 25.1h68.1v15.8H14.6V25.1z"/><path class="st0" d="M9.4 30.1h7.1v10.8H9.4V30.1zm11-9.9h5v5.7h-5v-5.7zm5.1-6h10.9v15.2H25.5V14.2zM36.2 9h30.7v5.2H36.2V9z"/><path class="st0" d="M36.2 14.2h32.4v6.7H36.2v-6.7z"/><path class="st0" d="M33.2 18.5H61v13H33.2v-13zM9.6 51.9h5.7v4.9H9.6v-4.9zm-4.4-11h4.2v11H5.2v-11zm83.5 5h5v6h-5v-6zm-17-25.7h6v6.6h-6v-6.6z"/><path class="st0" d="M66.9 14.2h6v6.7h-6v-6.7z"/><path class="st1" d="M52.1 61.7v-4.9H46v-4.9h-9.8v4.9H20.3v5.8h9.9v5H57v-5.9h-4.9z"/><path class="st0" d="M30.2 67.6h26.9V73H30.2v-5.4zm-9.9-5.9h9.9v5.9h-9.9v-5.9zm36.7 0h25.6v5.9H57v-5.9z"/><path class="st2" d="M57 45.7h31.7v6.2H57v-6.2zm0 10.9h25.6v5.1H57v-5.1zm-4.9-4.7H57v4.7h-4.9v-4.7z"/><path class="st3" d="M9.4 40.9h26.8v11H9.4v-11zm10.9-15.8h5.2V30h-5.2v-4.9zm5.2-4.9h10.7v4.9H25.5v-4.9zm10.7-6h15.9v6H36.2v-6z"/><path class="st4" d="M57 35.9h4.9v5H57v-5z"/><path class="st5" d="M72.8 25.1v10.8h-5.9V25.1h5.9v-4.9h-5.9v-6H57v6h-4.9v15.7H57v5h20.7V25.1h-4.9z"/><path class="st4" d="M52.1 25.1H57v10.8h-4.9V25.1z"/><path class="st3" d="M9.6 51.3h15.7v5.5H9.6z"/><path class="st6" d="M19.3 51.9h6v4.9h-6zm-9.9-11h4.9v4.9H9.4zm21.8 0h4.9v4.9h-4.9zm5-5.4h6.3v5.3h-6.3z"/><path class="st6" d="M52.1 40.9v-5H46V20h-9.8v5.1H25.4v5H14.3v5.8h26.8v16h11v-6.2H57v-4.8z"/><path class="st0" d="M31.2 45.8h4.9V54h-4.9z"/></svg>'>
		<img id="bird2" alt="" src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 89 64"><path fill="#533846" d="M9.6 31.9h74.2v20.8H9.6z"/><path fill="#533846" d="M9.6 16.1h68.1v15.8H9.6z"/><path fill="#533846" d="M4.4 21.1h7.1v10.8H4.4zm11-9.9h5v5.7h-5zm5.1-6h10.9v15.2H20.5zM31.2 0h30.7v5.2H31.2z"/><path fill="#533846" d="M31.2 5.2h32.4v6.7H31.2z"/><path fill="#533846" d="M28.2 9.5H56v13H28.2zM4.6 42.9h5.7v4.9H4.6zm-4.4-11h4.2v11H.2zm83.5 5h5v6h-5zm-17-25.7h6v6.6h-6z"/><path fill="#533846" d="M61.9 5.2h6v6.7h-6z"/><path fill="#E48115" d="M47.1 52.7v-4.9H41v-4.9h-9.8v4.9H15.3v5.8h9.9v5H52v-5.9z"/><path fill="#533846" d="M25.2 58.6h26.9V64H25.2zm-9.9-5.9h9.9v5.9h-9.9zm36.7 0h25.6v5.9H52z"/><path d="M52 36.7h31.7v6.2H52zm0 10.9h25.6v5.1H52zm-4.9-4.7H52v4.7h-4.9z" fill="#EA5040"/><path fill="#DDE2B1" d="M4.4 31.9h26.8v11H4.4zm10.9-15.8h5.2V21h-5.2zm5.2-4.9h10.7v4.9H20.5zm10.7-6h15.9v6H31.2z"/><path fill="#CDC7C7" d="M52 26.9h4.9v5H52z"/><path fill="#EBFCDD" d="M67.8 16.1v10.8h-5.9V16.1h5.9v-4.9h-5.9v-6H52v6h-4.9v15.7H52v5h20.7V16.1z"/><path fill="#CDC7C7" d="M47.1 16.1H52v10.8h-4.9z"/><g fill="#D9C642"><path d="M47.1 31.9v-5H41V11h-9.8v5.1H20.4v5H9.3v5.8h26.8v16h11v-6.2H52v-4.8z"/><path d="M25.2 37h6v5.9h-6zM4.4 37h4.9v5.9H4.4z"/></g></svg>'>
		<img id="bird3" alt="" src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="5 9 89 64"><style>.st0{fill:#533846}.st1{fill:#e48115}.st2{fill:#ea5040}.st3{fill:#cdc7c7}.st4{fill:#ebfcdd}.st5{fill:#d9c642}.st6{fill:#dde2b1}</style><path class="st0" d="M14.6 40.9h74.2v20.8H14.6V40.9z"/><path class="st0" d="M14.6 25.1h68.1v15.8H14.6V25.1z"/><path class="st0" d="M9.4 30.1h7.1v10.8H9.4V30.1zm11-9.9h5v5.7h-5v-5.7zm5.1-6h10.9v15.2H25.5V14.2zM36.2 9h30.7v5.2H36.2V9z"/><path class="st0" d="M36.2 14.2h32.4v6.7H36.2v-6.7z"/><path class="st0" d="M33.2 18.5H61v13H33.2v-13zm55.5 27.4h5v6h-5v-6zm-17-25.7h6v6.6h-6v-6.6z"/><path class="st0" d="M66.9 14.2h6v6.7h-6v-6.7z"/><path class="st1" d="M52.1 61.7v-4.9H46v-4.9h-9.8v4.9H20.3v5.8h9.9v5H57v-5.9h-4.9z"/><path class="st0" d="M30.2 67.6h26.9V73H30.2v-5.4zm-9.9-5.9h9.9v5.9h-9.9v-5.9zm36.7 0h25.6v5.9H57v-5.9z"/><path class="st2" d="M57 45.7h31.7v6.2H57v-6.2zm0 10.9h25.6v5.1H57v-5.1zm-4.9-4.7H57v4.7h-4.9v-4.7z"/><path class="st3" d="M57 35.9h4.9v5H57v-5z"/><path class="st4" d="M72.8 25.1v10.8h-5.9V25.1h5.9v-4.9h-5.9v-6H57v6h-4.9v15.7H57v5h20.7V25.1h-4.9z"/><path class="st3" d="M52.1 25.1H57v10.8h-4.9V25.1z"/><path class="st0" d="M14.4 51.9h10.9v4.9H14.4z"/><path class="st5" d="M19.8 51.9h5.5v4.9h-5.5zm16.4-16.4h6.3v5.3h-6.3z"/><path class="st0" d="M37.8 40.9H36v-.7h-4.8V54H36v-2.1h1.8z"/><path class="st6" d="M14.3 35.9h11v5h-11z"/><path class="st5" d="M52.1 40.9v-5H46V20h-9.8v5.1H25.4V30h-5.1v.1h-6v5.8h26.8v16h11v-6.2H57v-4.8z"/><path class="st6" d="M30.5 40.8h5.7v11.1h-5.7z"/><path class="st5" d="M31.2 47h4.9v4.9h-4.9z"/><path class="st6" d="M22.9 35.9h7.6v7.3h-7.6z"/><path class="st6" d="M14.3 40.9h21.9v11H14.3zm6-15.8h5.2V30h-5.2zm5.2-4.9h10.7v4.9H25.5zm10.7-6h15.9v6H36.2z"/><path class="st5" d="M14.4 47h4.9v4.9h-4.9z"/><path class="st0" d="M9.4 38.4h4.9v13.5H9.4zm5 16.5h2.2v6.8h-2.2z"/></svg>'>
		<img id="pipe" alt="" src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 140.7 800.3"><path fill="#63B623" d="M11.2 65.4h120v732.7h-120z"/><path fill="#422937" d="M129.2 67.4v728.7h-116V67.4h116m4-4H9.2v736.7h124V63.4z"/><path fill="#63B623" d="M2 2.3h136.7v62.2H2z"/><path fill="#422937" d="M136.7 4.3v58.2H4V4.3h132.7m4-4H0v66.2h140.7V.3z"/><path fill="#8DE547" d="M15.9 67.4h22.7v728.7H15.9zm30 0h3.3v728.7h-3.3z"/><path fill="#456F19" d="M111.5 67.4h4.2v728.7h-4.2zm9.6 0h8.1v728.7h-8.1zm4.1-63.1h11.5v58.2h-11.5zm-11.4 8.8h6v49h-6z"/><path fill="#456F19" d="M4 56.1h129.3v6.4H4z"/><path fill="#DEFF79" d="M13.2 67.4h10.7v728.7H13.2z"/><path fill="#8DE547" d="M4 8.3h24V56H4z"/><path fill="#8DE547" d="M9.2 4.3h18.7v51.8H9.2zM33.8 9h4.7v47h-4.7z"/><path fill="#DEFF79" d="M9.2 8.7h5.1v47.4H9.2z"/><path fill="#8DE547" d="M14.3 4.3h115V9h-115z"/><path fill="#DEFF79" d="M14.3 4.3h63.2V9H14.3zm70.3 0h5.7V9h-5.7z"/></svg>'>
		<!--img id="ground" src="img/ground.png"-->
	</div>
	<script>!function t(e,n,i){function s(o,a){if(!n[o]){if(!e[o]){var c="function"==typeof require&&require;if(!a&&c)return c(o,!0);if(r)return r(o,!0);var h=new Error("Cannot find module '"+o+"'");throw h.code="MODULE_NOT_FOUND",h}var u=n[o]={exports:{}};e[o][0].call(u.exports,function(t){var n=e[o][1][t];return s(n?n:t)},u,u.exports,t,e,n,i)}return n[o].exports}for(var r="function"==typeof require&&require,o=0;o<i.length;o++)s(i[o]);return s}({1:[function(t,e,n){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function s(t){return"function"==typeof t}function r(t){return"number"==typeof t}function o(t){return"object"==typeof t&&null!==t}function a(t){return void 0===t}e.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(t){if(!r(t)||0>t||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},i.prototype.emit=function(t){var e,n,i,r,c,h;if(this._events||(this._events={}),"error"===t&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[t],a(n))return!1;if(s(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:r=Array.prototype.slice.call(arguments,1),n.apply(this,r)}else if(o(n))for(r=Array.prototype.slice.call(arguments,1),h=n.slice(),i=h.length,c=0;i>c;c++)h[c].apply(this,r);return!0},i.prototype.addListener=function(t,e){var n;if(!s(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,s(e.listener)?e.listener:e),this._events[t]?o(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,o(this._events[t])&&!this._events[t].warned&&(n=a(this._maxListeners)?i.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())),this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(t,e){function n(){this.removeListener(t,n),i||(i=!0,e.apply(this,arguments))}if(!s(e))throw TypeError("listener must be a function");var i=!1;return n.listener=e,this.on(t,n),this},i.prototype.removeListener=function(t,e){var n,i,r,a;if(!s(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],r=n.length,i=-1,n===e||s(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(o(n)){for(a=r;a-- >0;)if(n[a]===e||n[a].listener&&n[a].listener===e){i=a;break}if(0>i)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},i.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],s(n))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},i.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?s(this._events[t])?[this._events[t]]:this._events[t].slice():[]},i.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(s(e))return 1;if(e)return e.length}return 0},i.listenerCount=function(t,e){return t.listenerCount(e)}},{}],2:[function(t,e,n){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],3:[function(t,e,n){function i(){u=!1,a.length?h=a.concat(h):p=-1,h.length&&s()}function s(){if(!u){var t=setTimeout(i);u=!0;for(var e=h.length;e;){for(a=h,h=[];++p<e;)a&&a[p].run();p=-1,e=h.length}a=null,u=!1,clearTimeout(t)}}function r(t,e){this.fun=t,this.array=e}function o(){}var a,c=e.exports={},h=[],u=!1,p=-1;c.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];h.push(new r(t,e)),1!==h.length||u||setTimeout(s,0)},r.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=o,c.addListener=o,c.once=o,c.off=o,c.removeListener=o,c.removeAllListeners=o,c.emit=o,c.binding=function(t){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(t){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},{}],4:[function(t,e,n){e.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},{}],5:[function(t,e,n){(function(e,i){function s(t,e){var i={seen:[],stylize:o};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),y(e)?i.showHidden=e:e&&n._extend(i,e),x(i.showHidden)&&(i.showHidden=!1),x(i.depth)&&(i.depth=2),x(i.colors)&&(i.colors=!1),x(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=r),c(i,t,i.depth)}function r(t,e){var n=s.styles[e];return n?"["+s.colors[n][0]+"m"+t+"["+s.colors[n][1]+"m":t}function o(t,e){return t}function a(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}function c(t,e,i){if(t.customInspect&&e&&C(e.inspect)&&e.inspect!==n.inspect&&(!e.constructor||e.constructor.prototype!==e)){var s=e.inspect(i,t);return w(s)||(s=c(t,s,i)),s}var r=h(t,e);if(r)return r;var o=Object.keys(e),y=a(o);if(t.showHidden&&(o=Object.getOwnPropertyNames(e)),I(e)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return u(e);if(0===o.length){if(C(e)){var g=e.name?": "+e.name:"";return t.stylize("[Function"+g+"]","special")}if(_(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(L(e))return t.stylize(Date.prototype.toString.call(e),"date");if(I(e))return u(e)}var v="",m=!1,b=["{","}"];if(d(e)&&(m=!0,b=["[","]"]),C(e)){var x=e.name?": "+e.name:"";v=" [Function"+x+"]"}if(_(e)&&(v=" "+RegExp.prototype.toString.call(e)),L(e)&&(v=" "+Date.prototype.toUTCString.call(e)),I(e)&&(v=" "+u(e)),0===o.length&&(!m||0==e.length))return b[0]+v+b[1];if(0>i)return _(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var E;return E=m?p(t,e,i,y,o):o.map(function(n){return l(t,e,i,y,n,m)}),t.seen.pop(),f(E,v,b)}function h(t,e){if(x(e))return t.stylize("undefined","undefined");if(w(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return m(e)?t.stylize(""+e,"number"):y(e)?t.stylize(""+e,"boolean"):g(e)?t.stylize("null","null"):void 0}function u(t){return"["+Error.prototype.toString.call(t)+"]"}function p(t,e,n,i,s){for(var r=[],o=0,a=e.length;a>o;++o)O(e,String(o))?r.push(l(t,e,n,i,String(o),!0)):r.push("");return s.forEach(function(s){s.match(/^\d+$/)||r.push(l(t,e,n,i,s,!0))}),r}function l(t,e,n,i,s,r){var o,a,h;if(h=Object.getOwnPropertyDescriptor(e,s)||{value:e[s]},h.get?a=h.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):h.set&&(a=t.stylize("[Setter]","special")),O(i,s)||(o="["+s+"]"),a||(t.seen.indexOf(h.value)<0?(a=g(n)?c(t,h.value,null):c(t,h.value,n-1),a.indexOf("\n")>-1&&(a=r?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n"))):a=t.stylize("[Circular]","special")),x(o)){if(r&&s.match(/^\d+$/))return a;o=JSON.stringify(""+s),o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=t.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=t.stylize(o,"string"))}return o+": "+a}function f(t,e,n){var i=0,s=t.reduce(function(t,e){return i++,e.indexOf("\n")>=0&&i++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0);return s>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function d(t){return Array.isArray(t)}function y(t){return"boolean"==typeof t}function g(t){return null===t}function v(t){return null==t}function m(t){return"number"==typeof t}function w(t){return"string"==typeof t}function b(t){return"symbol"==typeof t}function x(t){return void 0===t}function _(t){return E(t)&&"[object RegExp]"===S(t)}function E(t){return"object"==typeof t&&null!==t}function L(t){return E(t)&&"[object Date]"===S(t)}function I(t){return E(t)&&("[object Error]"===S(t)||t instanceof Error)}function C(t){return"function"==typeof t}function D(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function S(t){return Object.prototype.toString.call(t)}function z(t){return 10>t?"0"+t.toString(10):t.toString(10)}function k(){var t=new Date,e=[z(t.getHours()),z(t.getMinutes()),z(t.getSeconds())].join(":");return[t.getDate(),P[t.getMonth()],e].join(" ")}function O(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var j=/%[sdj%]/g;n.format=function(t){if(!w(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(s(arguments[n]));return e.join(" ")}for(var n=1,i=arguments,r=i.length,o=String(t).replace(j,function(t){if("%%"===t)return"%";if(n>=r)return t;switch(t){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(e){return"[Circular]"}default:return t}}),a=i[n];r>n;a=i[++n])o+=g(a)||!E(a)?" "+a:" "+s(a);return o},n.deprecate=function(t,s){function r(){if(!o){if(e.throwDeprecation)throw new Error(s);e.traceDeprecation?console.trace(s):console.error(s),o=!0}return t.apply(this,arguments)}if(x(i.process))return function(){return n.deprecate(t,s).apply(this,arguments)};if(e.noDeprecation===!0)return t;var o=!1;return r};var B,R={};n.debuglog=function(t){if(x(B)&&(B=e.env.NODE_DEBUG||""),t=t.toUpperCase(),!R[t])if(new RegExp("\\b"+t+"\\b","i").test(B)){var i=e.pid;R[t]=function(){var e=n.format.apply(n,arguments);console.error("%s %d: %s",t,i,e)}}else R[t]=function(){};return R[t]},n.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=d,n.isBoolean=y,n.isNull=g,n.isNullOrUndefined=v,n.isNumber=m,n.isString=w,n.isSymbol=b,n.isUndefined=x,n.isRegExp=_,n.isObject=E,n.isDate=L,n.isError=I,n.isFunction=C,n.isPrimitive=D,n.isBuffer=t("./support/isBuffer");var P=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",k(),n.format.apply(n,arguments))},n.inherits=t("inherits"),n._extend=function(t,e){if(!e||!E(e))return t;for(var n=Object.keys(e),i=n.length;i--;)t[n[i]]=e[n[i]];return t}}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":4,_process:3,inherits:2}],6:[function(t,e,n){var i=t("../../settings"),s=function(t){this.entity=t,this.flapIndex=0,this.images=[document.getElementById("bird2"),document.getElementById("bird1"),document.getElementById("bird2"),document.getElementById("bird3")],this.interval=window.setInterval(this.flap.bind(this),240)};s.prototype.flap=function(){this.flapIndex+=1,this.flapIndex>=this.images.length&&(this.flapIndex=0)},s.prototype.draw=function(t){var e=this.entity.components.physics.position;t.save(),t.translate(e.x,e.y),t.beginPath(),t.scale(-1,1),t.rotate(Math.PI),t.drawImage(this.images[this.flapIndex],0,0,i.birdRadius,i.birdRadius),t.closePath(),t.restore()},n.BirdGraphicsComponent=s},{"../../settings":13}],7:[function(t,e,n){var i=t("../../settings"),s=function(t){this.entity=t,this.image=document.getElementById("pipe")};s.prototype.draw=function(t){var e=this.entity.components.physics.position,n=this.entity.flip;t.save(),t.translate(e.x,e.y),n&&t.scale(1,-1);var s=this.image;t.drawImage(s,0,0,i.pipeWidth,1),t.restore()},n.PipeGraphicsComponent=s},{"../../settings":13}],8:[function(t,e,n){var i=function(t){this.entity=t,this.position={x:0,y:0},this.velocity={x:0,y:0},this.acceleration={x:0,y:0}};i.prototype.update=function(t,e){e&&(this.velocity.x+=this.acceleration.x*t,this.velocity.y+=this.acceleration.y*t),this.position.x+=this.velocity.x*t,this.position.y+=this.velocity.y*t},n.PhysicsComponent=i},{}],9:[function(t,e,n){var i=t("../components/graphics/bird"),s=t("../components/physics/physics"),r=function(){var t=new s.PhysicsComponent(this);t.position.y=.5,t.acceleration.y=-.75;var e=new i.BirdGraphicsComponent(this);this.components={physics:t,graphics:e}};n.Bird=r},{"../components/graphics/bird":6,"../components/physics/physics":8}],10:[function(t,e,n){var i=t("../components/graphics/pipe"),s=t("../components/physics/physics"),r=function(t,e){this.flip="undefined"==typeof e?!1:e;var n=new s.PhysicsComponent(this);n.position.x=t.x,n.position.y=t.y,n.velocity.x=-.5;var r=new i.PipeGraphicsComponent(this);this.components={physics:n,graphics:r}};n.Pipe=r},{"../components/graphics/pipe":7,"../components/physics/physics":8}],11:[function(t,e,n){Math.randomRange=function(t,e){return t+Math.random()*(e-t)};var i=t("./systems/graphics"),s=t("./systems/physics"),r=t("./systems/input"),o=t("./systems/pipe_system"),a=t("./entities/bird"),c=(t("./settings"),function(){var t=this;this.entities=[new a.Bird],this.graphics=new i.GraphicsSystem(this.entities),this.physics=new s.PhysicsSystem(this.entities),this.input=new r.InputSystem(this.entities),this.pipes=new o.PipeSystem(this.entities),this.input.on("visibilitychange",function(e){console.log("visibilitychange",e),e?(t.graphics.paused=!1,t.physics.run(),t.pipes.run()):(t.graphics.pause(),t.physics.pause(),t.pipes.pause())}),this.pipes.on("pipeadded",function(){var e=t.entities;e=e.filter(function(e){return e.components.physics.position.x>-(t.graphics.canvas.width/t.graphics.canvas.height)?!0:!1}),t.entities=t.graphics.entities=t.physics.entities=t.input.entities=t.pipes.entities=e,console.log(t.entities.length,t.graphics.entities.length,t.physics.entities.length,t.input.entities.length,t.pipes.entities.length)})});c.prototype.run=function(){this.graphics.run(),this.physics.run(),this.input.run(),this.pipes.run()},n.FlappyBird=c},{"./entities/bird":9,"./settings":13,"./systems/graphics":14,"./systems/input":15,"./systems/physics":16,"./systems/pipe_system":17}],12:[function(t,e,n){var i=t("./flappy_bird");document.addEventListener("DOMContentLoaded",function(){var t=new i.FlappyBird;t.run()})},{"./flappy_bird":11}],13:[function(t,e,n){n.birdRadius=.1,n.pipeWidth=.2},{}],14:[function(t,e,n){var i=t("events"),s=t("util"),r=function(t){function e(){i.width=window.innerWidth,i.height=window.innerHeight,n.calculations.birdSize=.1*i.height,n.calculations.halfWidth=i.width/2}var n=this;this.entities=t,this.canvas=document.getElementById("main-canvas"),this.offcanvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.showBoundingBox=!1,this.showCollisionDetection=!0,this.paused=!1;var i=this.canvas;this.offcanvas;document.body.addEventListener("keydown",function(t){n.showCollisionDetection=!n.showCollisionDetection}),console.log("Pro tip: press spacebar to toggle the visibility of the hidden collision detection canvas"),n.calculations={},e(),window.onresize=function(){e()}};s.inherits(r,i),r.prototype.run=function(){window.requestAnimationFrame(this.tick.bind(this))},r.prototype.pause=function(){this.paused=!0},r.prototype.tick=function(){var t=this,e=this.canvas,n=this.offcanvas,i=n.getContext("2d");this.clearContext(e),this.clearContext(n);var s=this.entities[0],r={x:t.calculations.halfWidth,y:(1-s.components.physics.position.y)*e.height,width:t.calculations.birdSize,height:t.calculations.birdSize};n.width=r.width,n.height=r.height,this.context.save(),i.save(),this.showBoundingBox&&(this.context.fillStyle="#649fd9",this.context.fillRect(r.x,r.y,r.width,r.height)),this.context.translate(t.calculations.halfWidth,this.canvas.height),this.context.scale(this.canvas.height,-this.canvas.height);var o=function(e,n){if(!1 in e.components||!1 in e.components)return!1;n.width=t.canvas.width,n.height=t.canvas.height;var i=n.getContext("2d");e.components.physics.position;i.save(),i.translate(t.calculations.halfWidth,t.canvas.height),i.scale(t.canvas.height,-t.canvas.height),e.components.graphics.draw(i);var s=i.getImageData(r.x,r.y,r.width,r.height);return s=t.colorizeImageData(s,[0,255,0,255]),i.restore(),t.clearContext(n),s}(s,document.createElement("canvas")),a=function(e,n){n.width=t.canvas.width,n.height=t.canvas.height;var i=n.getContext("2d");i.save(),i.translate(t.calculations.halfWidth,t.canvas.height),i.scale(t.canvas.height,-t.canvas.height);for(var s=0;s<e.length;s++){var o=e[s];"graphics"in o.components&&o.components.graphics.draw(i)}var a=i.getImageData(r.x,r.y,r.width,r.height);return a=t.colorizeImageData(a,[255,0,0,255]),i.restore(),t.clearContext(n),a}(this.entities.slice(1),document.createElement("canvas"));i.restore(),i.clearRect(0,0,n.width,n.height),i.globalCompositeOperation="multiply",i.drawImage(t.dataURLtoImg(t.imgDataToDataURL(a)),0,0),i.drawImage(t.dataURLtoImg(t.imgDataToDataURL(o)),0,0);var c=function(){for(var t=i.getImageData(0,0,n.width,n.height),e=t.data,s=0;s<=e.length-4;s+=4){var r=255==e[s]&&!e[s+1]&&!e[s+2],o=!e[s]&&255==e[s+1]&&!e[s+2],a=0==e[s]&&0==e[s+1]&&0==e[s+2]&&0==e[s+3];if(!r&&!o&&!a)return!0}return!1}();c&&(console.log("collision!"),t.emit("collision"));for(var h=0;h<this.entities.length;h++){var u=this.entities[h];"graphics"in u.components&&u.components.graphics.draw(this.context)}this.context.restore(),this.showCollisionDetection&&this.context.putImageData(i.getImageData(0,0,n.width,n.height),0,0),this.paused||window.requestAnimationFrame(this.tick.bind(this))},r.prototype.colorizeImageData=function(t,e){for(var n=t.data,i=0;i<=n.length-4;i+=4)(n[i]||n[i+1]||n[i+2]||n[i+3])&&(n[i]=e[0],n[i+1]=e[1],n[i+2]=e[2],n[i+3]=e[3]);return t},r.prototype.imgDataToDataURL=function(t){var e=document.createElement("canvas");return e.width=t.width,e.height=t.height,e.getContext("2d").putImageData(t,0,0),e.toDataURL()},r.prototype.dataURLtoImg=function(t){var e=new Image;return e.src=t,e},r.prototype.clearContext=function(t,e,n,i,s){e="undefined"==typeof e?0:e,n="undefined"==typeof n?0:n,i="undefined"==typeof i?t.width:i,s="undefined"==typeof s?t.height:s,t.getContext("2d").clearRect(e,n,i,s)},n.GraphicsSystem=r},{events:1,util:5}],15:[function(t,e,n){var i=t("events"),s=t("util"),r=function(t){this.entities=t,this.canvas=document.getElementById("main-canvas");var e;"undefined"!=typeof document.hidden?e="visibilitychange":"undefined"!=typeof document.mozHidden?e="mozvisibilitychange":"undefined"!=typeof document.msHidden?e="msvisibilitychange":"undefined"!=typeof document.webkitHidden&&(e="webkitvisibilitychange"),document.addEventListener(e,this.handleVisibilityChange.bind(this),!1)};s.inherits(r,i),r.prototype.run=function(){document.body.addEventListener("click",this.onClick.bind(this)),document.body.addEventListener("keydown",this.onkeydown.bind(this))},r.prototype.onClick=function(){var t=this.entities[0];t.components.physics.velocity.y=.4},r.prototype.onkeydown=function(t){if(32==t.keyCode){var e=this.entities[0];e.components.physics.velocity.y=.4}},r.prototype.handleVisibilityChange=function(){var t;"undefined"!=typeof document.hidden?t="hidden":"undefined"!=typeof document.mozHidden?t="mozHidden":"undefined"!=typeof document.msHidden?t="msHidden":"undefined"!=typeof document.webkitHidden&&(t="webkitHidden"),document[t]?this.emit("visibilitychange",!1):this.emit("visibilitychange",!0)},n.InputSystem=r},{events:1,util:5}],16:[function(t,e,n){var i=function(t){this.entities=t,this.interval=null};i.prototype.run=function(){this.interval=window.setInterval(this.tick.bind(this),1e3/60)},i.prototype.pause=function(){clearInterval(this.interval)},i.prototype.tick=function(){for(var t=0;t<this.entities.length;t++){var e=this.entities[t];!1 in e.components||e.components.physics.update(1/60,1>t)}},n.PhysicsSystem=i},{}],17:[function(t,e,n){var i=t("../entities/pipe"),s=t("events"),r=t("util"),o=function(t){this.entities=t,this.canvas=document.getElementById("main-canvas"),this.interval=null};r.inherits(o,s),o.prototype.run=function(){this.tick(),this.interval=window.setInterval(this.tick.bind(this),2e3)},o.prototype.pause=function(){null!=this.interval&&(window.clearInterval(this.interval),this.interval=null)},o.prototype.tick=function(){var t={x:1.5,y:Math.randomRange(.25,.65)};this.entities.push(new i.Pipe(t,!0)),t.y+=.25,this.entities.push(new i.Pipe(t,!1)),this.emit("pipeadded")},n.PipeSystem=o},{"../entities/pipe":10,events:1,util:5}]},{},[12]);</script>
	<!--script src="js/app.js"></script-->
</body>
</html>
